#N canvas 4 4 2256 1430 12;
#X obj 202 119 + 1;
#X obj 140 45 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 139 189 f 0;
#X floatatom 173 224 5 0 0 0 - - - 0;
#X floatatom 73 331 5 -1 10 0 - - - 0;
#X listbox 42 520 140 0 0 0 - - - 0;
#X text 116 329 number of points or -1 for until the end of the array;
#X obj 40 404 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 106 82 5 0 0 0 - - - 0;
#X msg 251 127 0;
#X floatatom 206 156 5 0 0 0 - - - 0;
#X text 246 156 next index to write;
#X text 214 222 last index written;
#X text 67 404 get array contents;
#X obj 56 45 sysexin;
#X obj 197 22 array define sysex-in 200;
#X obj 105 262 tabwrite sysex-in;
#X obj 42 449 array get sysex-in;
#X obj 42 557 print sysex-in;
#X msg 632 203 240 126 0 6 1 247, f 18;
#X obj 639 449 midiout;
#X msg 654 411 240 71 127 76 3 0 1 \$1 247;
#X msg 730 285 3;
#X msg 692 285 2;
#X msg 653 285 1;
#X msg 768 285 4;
#X msg 819 284 0;
#X text 820 265 current;
#X text 651 266 get preset #;
#X msg 691 124 35;
#X msg 711 369 173;
#X obj 632 125 t b b;
#X obj 630 96 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 102 370 select 200;
#X obj 729 124 s response-len;
#X obj 749 369 s response-len;
#X text 847 409 akai lpd8 mk2 sysex: get preset n;
#X obj 250 86 t b f;
#X obj 250 59 r response-len;
#X obj 653 370 t f b;
#X obj 67 115 trigger b f b;
#X obj 68 188 f 0;
#X msg 346 120 \; sysex-in const 0;
#X text 255 109 zero index;
#X text 349 103 set array to 0;
#X obj 808 341 s filename;
#X obj 724 175 s filename;
#X obj 724 151 symbol id.txt;
#X obj 808 317 makefilename preset-%d.txt;
#X obj 247 397 symbol suffix;
#X obj 335 370 r filename;
#X msg 247 430 \; sysex-in write ~/puredata/akai-lpd8-mk2-\$1;
#X text 769 194 generic akai sysex: who are you? (MIDI Machine Control "device enquiry" message);
#X connect 0 0 10 0;
#X connect 1 0 8 0;
#X connect 2 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 16 1;
#X connect 4 0 17 1;
#X connect 4 0 33 0;
#X connect 5 0 18 0;
#X connect 7 0 17 0;
#X connect 8 0 40 0;
#X connect 9 0 10 0;
#X connect 10 0 2 1;
#X connect 10 0 41 1;
#X connect 14 0 40 0;
#X connect 17 0 5 0;
#X connect 19 0 20 0;
#X connect 21 0 20 0;
#X connect 22 0 39 0;
#X connect 22 0 48 0;
#X connect 23 0 39 0;
#X connect 23 0 48 0;
#X connect 24 0 39 0;
#X connect 24 0 48 0;
#X connect 25 0 39 0;
#X connect 25 0 48 0;
#X connect 26 0 39 0;
#X connect 26 0 48 0;
#X connect 29 0 34 0;
#X connect 30 0 35 0;
#X connect 31 0 19 0;
#X connect 31 1 29 0;
#X connect 31 1 47 0;
#X connect 32 0 31 0;
#X connect 33 0 7 0;
#X connect 33 0 49 0;
#X connect 37 0 9 0;
#X connect 37 0 42 0;
#X connect 37 1 33 1;
#X connect 38 0 37 0;
#X connect 39 0 21 0;
#X connect 39 1 30 0;
#X connect 40 0 41 0;
#X connect 40 1 16 0;
#X connect 40 2 2 0;
#X connect 41 0 4 0;
#X connect 47 0 46 0;
#X connect 48 0 45 0;
#X connect 49 0 51 0;
#X connect 50 0 49 1;
